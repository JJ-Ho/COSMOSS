function GUI = GUI_Plot_Modes(fig)
%% Add base layout
MainLayout = uix.VBoxFlex(...
    'Parent',fig,...
    'Spacing',1,...
    'Padding',5);

ModeListPanel = uix.BoxPanel( ...
    'Parent',MainLayout,...
    'Title','Mode List','FontSize',14);

PlotPanel = uix.BoxPanel( ...
    'Parent',MainLayout,...
    'Title','Plotting selection','FontSize',14);

% buttom
uicontrol('Parent', MainLayout, ...
          'String', 'Plot selected modes',...
          'fontunits', 'point', 'fontsize', 14,...
          'Callback',@(hObject,eventdata)Plot_Modes('Update_Figure',hObject,eventdata,guidata(hObject)));

uicontrol('Parent', MainLayout, ...
          'String', 'Export handles',...
          'fontunits', 'point', 'fontsize', 14,...
          'Callback',@(hObject,eventdata)Plot_Modes('Export_Handle_Callback',hObject,eventdata,guidata(hObject)));

      
set(MainLayout,'Heights',[-1,50,30,30])

%% ModeListPanel
ModeList = [0,0,0];
cnames = {'Freq.','Mu Int','Alpha ZZ'};

hT = uitable('Parent', ModeListPanel, ...
             'Data', ModeList,...
             'ColumnName',cnames,...
             'tag','ModeList');

hT.Position(3) = hT.Extent(3);
hT.Position(4) = hT.Extent(4);

%% PlotPanel
PlotPanelLayout = uix.HBox('Parent',PlotPanel,...
    'Padding', 3, 'Spacing', 3);

    uicontrol('Parent',PlotPanelLayout,...
              'Style','text',...
              'String','Mode indexes:',...
              'HorizontalAlignment','left',...
              'units', 'normalized',...
              'fontunits', 'point', 'fontsize', 14);
          
    uicontrol('Parent',PlotPanelLayout,...
              'Style','edit',...
              'Tag','Ex_Mode_Ind',...
              'String','',...
              'HorizontalAlignment','left',...
              'units', 'normalized',...
              'fontunits', 'point', 'fontsize', 14);
          
    set(PlotPanelLayout,'Widths',[100,-1])
    
%% output handles
GUI = guihandles(fig);